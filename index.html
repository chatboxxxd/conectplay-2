<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ConectPlay — Afiliados & Planos</title>
<link rel="icon" href="images/logo-conectplay.png" />
<style>
  :root{
    --bg1: #10062a;    /* escuro roxo */
    --bg2: #0b1b3a;    /* azul noturno */
    --neon-a: #7b5cff; /* roxo neon */
    --neon-b: #2ce8ff; /* ciano neon */
    --card: rgba(255,255,255,0.04);
    --muted: rgba(255,255,255,0.6);
    --whatsapp: #25D366;
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box;font-family:Inter, "Arial",sans-serif;}
  body{
    margin:0;
    min-height:100vh;
    color:#eef2ff;
    background: radial-gradient(1200px 400px at 10% 10%, rgba(124,92,255,0.12), transparent),
                linear-gradient(135deg,var(--bg1),var(--bg2));
    -webkit-font-smoothing:antialiased;
    padding:20px;
  }
  .container{ max-width:1100px; margin:0 auto; }
  header{ display:flex; gap:16px; align-items:center; margin-bottom:18px; }
  header img{ width:96px; height:auto; border-radius:12px; box-shadow: 0 6px 24px rgba(46,14,120,0.28);}
  header h1{ margin:0; font-size:20px; letter-spacing:0.6px; }
  header p{ margin:4px 0 0 0; color:var(--muted); font-size:13px; }

  .top{ display:flex; gap:16px; flex-wrap:wrap; background:var(--card); padding:16px; border-radius:12px; align-items:center; }
  .col{ flex:1; min-width:220px; }
  label{ display:block; font-size:13px; color:var(--muted); margin-bottom:8px; }
  input[type="text"]{ width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); background:transparent; color:inherit; }
  .link-preview{ background:var(--glass); padding:10px; border-radius:10px; color:#dfeaff; word-break:break-word; min-height:40px; }

  .actions{ display:flex; gap:8px; margin-top:10px; flex-wrap:wrap; }
  .btn{ background: linear-gradient(90deg,var(--neon-a), var(--neon-b)); color:#041022; padding:10px 14px; border-radius:10px; border:none; cursor:pointer; font-weight:700; box-shadow: 0 6px 18px rgba(46,14,120,0.18); }
  .btn.ghost{ background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted); box-shadow:none; }
  .small{ font-size:13px; color:var(--muted); margin-top:6px; }

  .grid{ display:grid; grid-template-columns:1fr 360px; gap:16px; margin-top:18px; align-items:start; }
  @media(max-width:980px){ .grid{ grid-template-columns:1fr; } }

  .card{ background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:12px; border-radius:12px; box-shadow: 0 6px 18px rgba(2,6,23,0.5); }
  .plans{ display:flex; flex-direction:column; gap:10px; margin-top:8px; }
  .plan{ display:flex; justify-content:space-between; align-items:center; padding:12px; border-radius:10px; background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
  .plan .title{ font-weight:800; color:#f4f6ff; }
  .plan .price{ color:var(--neon-b); font-weight:700; }

  .wh-btn{ display:inline-flex; gap:8px; align-items:center; padding:8px 10px; border-radius:10px; background:var(--whatsapp); color:#032a12; font-weight:800; text-decoration:none; }

  footer{ margin-top:18px; color:var(--muted); font-size:13px; text-align:center; }

  .copy-ok{ color:#00ff8a; font-weight:800; margin-left:8px; display:none; }
</style>
</head>
<body>
  <div class="container">
    <header>
      <img src="images/logo-conectplay.png" alt="ConectPlay logo" />
      <div>
        <h1>ConectPlay — Afiliados & Planos</h1>
        <p>Gere seu link, compartilhe e acompanhe seu desempenho. Pagamentos por venda confirmado.</p>
      </div>
    </header>

    <div class="top card">
      <div class="col">
        <label for="affiliateInput">Digite seu apelido (gera link):</label>
        <input id="affiliateInput" type="text" placeholder="ex: joao-silva" />
        <div class="small">Sem caracteres especiais — o sistema cria a versão "bonitinha".</div>
      </div>
      <div style="flex:0 0 360px;">
        <label>Pré-visualização / Link de compartilhamento:</label>
        <div class="link-preview" id="message-preview">—</div>
        <div class="actions">
          <button class="btn" id="btn-generate">Gerar link</button>
          <button class="btn ghost" id="btn-copy" disabled>Copiar link</button>
          <span id="copy-ok" class="copy-ok">Copiado!</span>
        </div>
        <div class="small">O link gerado abre direto no WhatsApp com a mensagem do afiliado.</div>
      </div>
    </div>

    <div class="card" style="margin-top:20px;">
      <h3>Planos disponíveis</h3>
      <div class="plans" id="plans-list"></div>
      <div class="small">Clique em "Assinar" para abrir WhatsApp com a mensagem pronta.</div>
    </div>

    <footer>
      &copy; 2025 ConectPlay. Todos os direitos reservados.
    </footer>
  </div>

<script>
const PHONE_NUMBER = '557791986049'; // Seu número WhatsApp sem '+'

const PLANS = [
  { id:'15dias', title:'15 DIAS DE USO', subtitle:'Teste - 15 dias', price:14.99 },
  { id:'mensal1', title:'Mensal', subtitle:'1 acesso', price:20.99 },
  { id:'mensal2', title:'Mensal', subtitle:'2 acessos', price:25.99 },
  { id:'bimestral1', title:'Bimestral', subtitle:'1 acesso', price:41.99 },
  { id:'bimestral2', title:'Bimestral', subtitle:'2 acessos', price:43.99 },
  { id:'trimestral1', title:'Trimestral', subtitle:'1 acesso', price:74.99 },
  { id:'trimestral2', title:'Trimestral', subtitle:'2 acessos', price:76.99 },
  { id:'semestral1', title:'Semestral', subtitle:'1 acesso', price:149.99 },
  { id:'semestral2', title:'Semestral', subtitle:'2 acessos', price:153.99 },
  { id:'anual1', title:'Anual', subtitle:'1 acesso', price:297.99 },
  { id:'anual2', title:'Anual', subtitle:'2 acessos', price:299.99 }
];

const affiliateInput = document.getElementById('affiliateInput');
const messagePreview = document.getElementById('message-preview');
const btnGenerate = document.getElementById('btn-generate');
const btnCopy = document.getElementById('btn-copy');
const copyOk = document.getElementById('copy-ok');
const plansList = document.getElementById('plans-list');

function makeSlug(name){
  return name.trim().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,"")
    .replace(/[^a-z0-9\-]+/g,'-').replace(/\-+/g,'-').replace(/^\-+|\-+$/g,'');
}

function generateWhatsAppLink(apelido) {
  const message = `Olá! Sou afiliado ${apelido} e indico o serviço da ConectPlay. Gostaria de saber mais!`;
  return `https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(message)}`;
}

function updatePreview(){
  const manual = affiliateInput.value.trim();
  const slug = manual ? makeSlug(manual) : '';
  if(!slug){
    messagePreview.textContent = 'Digite seu apelido para gerar o link.';
    btnCopy.disabled = true;
    return;
  }
  const link = generateWhatsAppLink(slug);
  messagePreview.textContent = `Compartilhe este link (abre direto no WhatsApp): ${link}`;
  btnCopy.dataset.link = link;
  btnCopy.disabled = false;
}

btnGenerate.addEventListener('click', ()=>{
  updatePreview();
  copyOk.style.display = 'none';
});

btnCopy.addEventListener('click', ()=>{
  const link = btnCopy.dataset.link;
  if(!link) return;
  navigator.clipboard.writeText(link).then(()=> {
    copyOk.style.display = 'inline';
    setTimeout(()=> copyOk.style.display = 'none', 2500);
  });
});

affiliateInput.addEventListener('input', updatePreview);

function openPlan(planTitle, price){
  const affiliate = affiliateInput.value.trim();
  const affiliateText = affiliate ? `Afiliado: ${affiliate}. ` : '';
  const msg = `Olá! Quero adquirir o plano ${planTitle} por R$${price.toFixed(2)}. ${affiliateText}`;
  const waUrl = `https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(msg)}`;
  window.open(waUrl, '_blank');
}

function renderPlans(){
  plansList.innerHTML = '';
  PLANS.forEach(p=>{
    const div = document.createElement('div');
    div.className = 'plan';
    div.innerHTML = `
      <div>
        <div class="title">${p.title} <span style="font-weight:600;color:var(--muted);font-size:13px">• ${p.subtitle}</span></div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:flex-end;">
        <div class="price">R$ ${p.price.toFixed(2)}</div>
        <button class="btn" style="margin-top:8px;" onclick="openPlan('${p.title}',${p.price})">Assinar</button>
      </div>
    `;
    plansList.appendChild(div);
  });
}

renderPlans();
</script>
</body>
</html>
